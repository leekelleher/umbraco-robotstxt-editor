<div class="umb-robotstxteditor" ng-controller="RobotsTxtEditorController as vm">


    <umb-load-indicator ng-show="vm.loading"></umb-load-indicator>

    <div class="umb-robotstxteditor-main" ng-show="!vm.loading">
        <div class="umb-robotstxteditor-controls">

            <umb-editor-container>
                <umb-box>
                    <umb-box-content>
                        <h3 class="bold">Robots.txt Editor</h3>
                        <p>For more information about the robots.txt file, please visit <a href="http://www.robotstxt.org/robotstxt.html" target="_blank" rel="noopener noreferrer" class="btn-link -underline">www.robotstxt.org</a></p>
                        <p class="alert" ng-show="!vm.data.FileExists">
                            You don't currently have a robots.txt file. Please click 'Create robots.txt' to save what's in the editor below.
                        </p>
                        <div ng-if="vm.errors.length > 0" class="alert alert-block alert-error">
                            <p class="bold">Please fix the following validation errors</p>

                            <ul>
                                <li ng-repeat="error in vm.errors">Line {{error.First}}: "{{error.Second}}" is not valid.</li>
                            </ul>
                        </div>

                        <div class="flex" style="margin-bottom: 30px;">
                            <div class="flex" style="margin-left: auto;">
                                <umb-button type="button"
                                            ng-show="vm.data.FileExists"
                                            size="xs"
                                            style="margin-left: 5px;"
                                            label="Reload from disk"
                                            action="vm.reloadData()">
                                </umb-button>
                            </div>
                        </div>

                        <div umb-ace-editor="vm.aceOption"
                             class="ace-editor"
                             model="vm.data.FileContents">
                        </div>
                        <div>
                            <div style="margin-top: 30px;">
                                <umb-button type="button"
                                            label="{{vm.data.FileExists ? 'Update Robots.txt' : 'Create Robots.txt'}}"
                                            button-style="success"
                                            size="xs"
                                            action="vm.saveData()">
                                </umb-button>
                            </div>
                        </div>
                    </umb-box-content>
                </umb-box>

            </umb-editor-container>

        </div>

    </div>
</div>
